<% weekday_abbrw = %w[Nd Pn Wt Åšr Cz Pt So] %>

<div class="w-full max-w-md px-2 mx-auto mt-4 mb-4">
  <div class="flex items-center justify-between gap-2 overflow-x-auto no-scrollbar">
    <% prev_day = Date.current - 1.day %>
    <% is_selected_prev = (prev_day.to_s == @date) %>
    <%= link_to diet_set_plans_path(date: prev_day.to_s),
      class: "flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-200 cursor-pointer select-none
              border-2 #{is_selected_prev ? 'bg-emerald-600 text-white border-emerald-600 shadow-lg scale-105' : 'bg-white text-slate-700 border-slate-200 hover:bg-emerald-50 hover:border-emerald-400 focus-visible:ring-2 focus-visible:ring-emerald-400'}",
      aria_current: (is_selected_prev ? 'date' : nil),
      tabindex: 0 do %>
      <span class="text-xs font-semibold <%= is_selected_prev ? 'text-white' : 'text-emerald-700' %>"><%= weekday_abbrw[prev_day.wday] %></span>
      <span class="mt-1 text-lg font-bold leading-none"><%= prev_day.day %></span>
    <% end %>
    <% (0..5).each do |i| %>
      <% d = Date.current + i.days %>
      <% is_selected = (d.to_s == @date) %>
      <%= link_to diet_set_plans_path(date: d.to_s),
        class: "flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-200 cursor-pointer select-none
                border-2 #{is_selected ? 'bg-emerald-600 text-white border-emerald-600 shadow-lg scale-105' : 'bg-white text-slate-700 border-slate-200 hover:bg-emerald-50 hover:border-emerald-400 focus-visible:ring-2 focus-visible:ring-emerald-400'}",
        aria_current: (is_selected ? 'date' : nil),
        tabindex: 0 do %>
        <span class="text-xs font-semibold <%= is_selected ? 'text-white' : 'text-emerald-700' %>"><%= weekday_abbrw[d.wday] %></span>
        <span class="mt-1 text-lg font-bold leading-none"><%= d.day %></span>
      <% end %>
    <% end %>
  </div>
</div>
